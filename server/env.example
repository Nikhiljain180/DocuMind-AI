# ============================================
# DocuMind AI - Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ============================================
# Server Configuration
# ============================================
APP_NAME=DocuMind AI
APP_ENV=development
DEBUG=true
PORT=8000

# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================
# PostgreSQL Database
# ============================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=rag_db
POSTGRES_USER=rag_user
POSTGRES_PASSWORD=rag_password

# PostgreSQL Connection String (alternative)
# DATABASE_URL=postgresql://rag_user:rag_password@localhost:5432/rag_db

# ============================================
# Qdrant Vector Database
# ============================================
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_HTTP_PORT=6334

# Alternative: Qdrant Connection String
# QDRANT_URL=http://localhost:6333

# ============================================
# OpenAI Configuration
# ============================================
# IMPORTANT: Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Model for chat completions
OPENAI_MODEL=gpt-4o-mini
# Alternatives: gpt-4, gpt-4-turbo, gpt-3.5-turbo

# Embedding model
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# Vector dimensions: 1536 for text-embedding-3-small
# Alternatives: text-embedding-ada-002, text-embedding-3-large

# ============================================
# Authentication & Security
# ============================================
# Generate a secret key: openssl rand -hex 32
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-use-openssl-rand-hex-32
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Password hashing
BCRYPT_SALT_ROUNDS=12

# ============================================
# File Upload Configuration
# ============================================
UPLOAD_DIR=./data/uploads
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_EXTENSIONS=.pdf,.txt,.docx,.md,.csv
CHUNK_SIZE=1000  # Characters per chunk for text splitting
CHUNK_OVERLAP=200  # Overlap between chunks

# ============================================
# Redis (REQUIRED - for async task processing)
# ============================================
# Redis is now REQUIRED for async document processing
# Leave REDIS_PASSWORD empty if no password is set
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Redis URL (automatically built from above, but can be overridden)
# For Aiven or other hosted Redis, use the full connection string:
# REDIS_URL=rediss://default:password@host:port/0

# ============================================
# Logging
# ============================================
LOG_LEVEL=INFO
LOG_FILE=app.log

# ============================================
# Testing
# ============================================
TEST_DATABASE_URL=postgresql://rag_user:rag_password@localhost:5432/rag_test_db

